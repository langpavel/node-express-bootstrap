{
  "COMMENT":[
    "Every root key here can be overrided in conf.json.",
    "See app/bootstrap/index.js for implementation details"
  ],
  "bootstrap": [
    "middleware/responseTime",

    "bootstrap/express",
    "bootstrap/locals",
    "bootstrap/redis",
    "sync!bootstrap/mysql",
    
    "middleware/favicon",
    "middleware/methodOverride",
    "middleware/logger",
    "middleware/cookieParser",
    "middleware/bodyParser",

    "middleware/stylus@/stylesheets",

    "middleware/session/redis",
    "middleware/session",
    "middleware/csfr",
    "middleware/flashMessage",

    "bootstrap/model",

    "middleware/passport",
    "middleware/passport/session",
    "middleware/passport/password@/login",

    "bootstrap/router",
    
    "routes/home@/",
    "routes/pages@/",

    "middleware/static@/",

    "middleware/errorHandler",

    "sync!bootstrap/http@IPv4",
    "sync!bootstrap/http@IPv6",

    "development:bootstrap/repl"
  ],

  "router": {},

  "routes/home@/": {

  },

  "bootstrap/express": {
    "view engine": "jade",
    "views": "./app/views",
    "strict routing": true,
    "case sensitive routing": true,
    "trust proxy": false,
    "json spaces": 2,
    "jsonp callback": false
  },

  "bootstrap/locals": {
    "title": "blog"
  },

  "bootstrap/redis": {
    "host": "127.0.0.1",
    "port": "6379",
    "options": {
      "parser": "hiredis",
      "return_buffers": false,
      "detect_buffers": false,
      "socket_nodelay": true,
      "no_ready_check": false,
      "enable_offline_queue": true
    }
  },

  "bootstrap/mysql": {
    "host": "localhost",
    "port": 3306,
    "socketPath": null,
    "user": "blog",
    "password": "password",
    "database": "blog",
    "charset": "UTF8_GENERAL_CI",
    "insecureAuth": false,
    "typeCast": true,
    "debug": false,
    "multipleStatements": false
  },

  "middleware/responseTime": {},

  "middleware/favicon": {
    "icon": "./public/favicon.ico"
  },

  "middleware/methodOverride": {
    "key": "_method"
  },

  "middleware/logger": {
    "format": "tiny"
  },

  "middleware/cookieParser": {
    "secret": "Keyboard Cat"
  },

  "middleware/bodyParser": {
  },

  "middleware/stylus": {
    "src": "./public/stylesheets",
    "dest": "./public/stylesheets",
    "useNib": true,
    "compress": true
  },

  "middleware/session/redis": {
    "ttl": 5184000,
    "db": 0,
    "pass": false,
    "prefix": "sess:"
  },
  
  "middleware/session": {
    "key": "sid",
    "cookie": {
      "path": "/",
      "httpOnly": true,
      "maxAge": null
    }
  },

  "middleware/csfr": {
    "value": "(req.body && req.body._csrf) || (req.query && req.query._csrf) || (req.headers['x-csrf-token'])"
  },


  "bootstrap/model": {
    "models": {
      "user": "./app/models/user"
    },

    "user": {
      "prefix": "user:"
    }

  },

  "middleware/passport": {

  },

  "middleware/passport/session": {
  },

  "middleware/passport/password@/login": {
    "strategy": {},
    "handler": {
      "successRedirect": "/",
      "failureRedirect": "/login",
      "failureFlash": true
    },
    "template": "auth/login"
  },

  "middleware/static": {
    "root": "./public",
    "maxAge": 60000,
    "hidden": false,
    "redirect": true
  },
  "development:middleware/static": {
    "maxAge": 0
  },


  "bootstrap/http@IPv4": {
    "port": 80,
    "host": "0.0.0.0"
  },
  "bootstrap/http@IPv6": {
    "port": 80,
    "host": "::"
  },
  "development:bootstrap/http@IPv4": {
    "port": 3333,
    "host": "127.0.0.1"
  },
  "development:bootstrap/http@IPv6": {
    "port": 3333,
    "host": "::1"
  },


  "middleware/errorHandler": {
    "dumpExceptions": false, 
    "showStack": false
  },
  "development:middleware/errorHandler": {
    "dumpExceptions": true, 
    "showStack": true
  }

}
